
<head>
	<link rel="stylesheet" href="style.css">
</head>

  
<div class="topnav">
    <h1> Nicole Martin
    <div class="hover-title" id="makes_button" onclick="toggleClass('makes', 'switch')" onmouseover="toggleClass('makes', 'show')" onmouseout="toggleClass('makes', 'hide')"> 
    makes
    </div>
    &
    <div class="hover-title" id="edits_button" onclick="toggleClass('edits', 'switch')" onmouseover="toggleClass('edits', 'show')" onmouseout="toggleClass('edits', 'hide')"> 
    edits
    </div>
    <div class="hover-title" id="written_button"  onclick="toggleClass('written', 'switch')" onmouseover="toggleClass('written', 'show')" onmouseout="toggleClass('written', 'hide')"> 
    written
    </div>
    &
    <div class="hover-title" id="visual_button" onclick="toggleClass('visual', 'switch')" onmouseover="toggleClass('visual', 'show')" onmouseout="toggleClass('visual', 'hide')"> 
    visual
    </div> 
    <br/>
    representations of new ideas, in the context of  <br/>
    contemporary art. </h1>
</div>
<a HREF="pages/about.html">About this site</a>



<div class="parent hide hover-image makes"  id=makes>
    <div class="column"> 
        <div class="item"> 
            <img src=" https://i0.wp.com/makezine.com/wp-content/uploads/2013/01/make_logo_rgb.jpg?fit=1024%2C768&ssl=1">
        </div>
    </div>
   
</div>

<div class="parent hide hover-image edits" id=edits>   
    <div class="column"> 
        <div class="item"> 
            <img src="https://www.nicolemartin.info/wp-content/uploads/2021/08/2021-Flesh-Install-copy-1-scaled.jpg">
        </div>
    </div>

</div>

<div class="parent hide hover-image written"  id="written">
    <div class="column"> 
        <div class="item">
            <img src="https://www.nicolemartin.info/wp-content/uploads/2021/08/RFC-block-2.jpg">
        </div>
    </div>
</div>

<div class="parent hide hover-image visual"  id="visual">
    <div class="column">
        <div class="item">
            <img src="https://www.nicolemartin.info/wp-content/uploads/2021/08/come-in-green.jpg">
        </div>
    </div>
</div>


<div class="parent hide hover-image all"  id="visual">
    <div class="column">
        <div class="item">
            <img src="https://upload.wikimedia.org/wikipedia/commons/d/d4/ALL_logo.svg">
        </div>
    </div>
</div>



<script>
  
	var preview = {
      "makes" : false,
      "edits" : false,
      "written" : false,
      "visual" : false,
    };

    var locked_in = {
      "makes" : false,
      "edits" : false,
      "written" : false,
      "visual" : false,
    };

    var clicked = {
      "makes" : false,
      "edits" : false,
      "written" : false,
      "visual" : false,
    };

    var opposites = {
      "makes" : "edits",
      "edits" : "makes",
      "visual" : "written" ,
      "written" : "visual",
    }
    var complements = {
      "makes" : ["visual", "written"],
      "edits" : ["visual", "written"],
      "visual" : ["makes", "edits"],
      "written" : ["makes", "edits"]
    }
  
  	function updateView(){
      classToAdd = "show"

      let show_all = true
    
      for (let k in preview){

        let comp_status = false
        for(var i = 0; i < complements[k].length; i++){
                com = complements[k][i]
                comp_status = comp_status || locked_in[com] || clicked[com] || preview[com]
        }
        if(!comp_status){
            clicked[k] = false
            locked_in[k] = false
            preview[k] = false
        }

        var elements = document.getElementsByClassName(k);
        var but = document.getElementById(k + "_button");
        for(var i = 0; i < elements.length; i++) {

            state = preview[k] || locked_in[k] || clicked[k]

            var el = elements[i]
            var classes = el.className;
            var but_classes = but.className;
        
            if (state && !classes.includes(classToAdd)){
                el.className += " " + classToAdd;
                if (!but_classes.includes("bold")){
                    but.className += " bold"
                    }
                }
            else if (!state){
                clses = classes.split(" ")
                for(var i = 0; i < clses.length; i++){
                    if(state){
                        continue;
                    }
                }
                el.className = classes.replace(" " + classToAdd, "");
                but.className = but_classes.replace(" bold", "");
                }
            }
        }  

        for (let k in preview){
            show_all = show_all && (locked_in[k] || clicked[k])

            if(!show_all){
                var elements = document.getElementsByClassName("all");
                for(var i = 0; i < elements.length; i++) {
                    var el = elements[i]

                    var classes = el.className;
                    el.className = classes.replace(" " + classToAdd, "");
                } 
            }
        }

        if(show_all){
            var elements = document.getElementsByClassName("all");
            for(var i = 0; i < elements.length; i++) {
                var el = elements[i]
                el.className += " " + classToAdd;
                }
        } 
    }

    function change(IDs, type){
        for(var i = 0; i < IDs.length; i++){
            id = IDs[i]
            if(type == "hide"){
                preview[id] = false
            }
            else if(type == "show"){
                preview[id] = true
            }
            else if(type == "switch"){
                locked_in[id] = !locked_in[id]
            }
        }
    }


  	function toggleClass(ID, type){
       
       // change the input based on the type:
       // types : toggle, show, hide
       // toggle should invert the other options

       if ((type == "preview" || type == "hide") && (clicked[ID] || locked_in[ID])){
           return
       }

       
        if(!locked_in[ID] && (!clicked[opposites[ID]] && !clicked[ID] )){
            if(ID == "visual"){
                change(["makes", "edits", "visual"], type)
            }
            else if(ID == "written"){
                change(["makes", "edits", "written"], type)
            }
            else if(ID == "makes"){
                change(["makes",  "written", "visual"], type)
            }
            else if(ID == "edits"){
                change(["edits",  "written", "visual"], type)
            }
        }

       if (type == "switch"){
        if (clicked[opposites[ID]] && clicked[ID]){
            clicked[opposites[ID]] = !clicked[opposites[ID]]
            
            locked_in[opposites[ID]] = false
            preview[opposites[ID]] = false
            
        }
        else{
            clicked[ID] = !clicked[ID]
            locked_in[ID] = clicked[ID] 
            preview[ID] = clicked[ID] 
            if(!clicked[opposites[ID]]){
                locked_in[opposites[ID]] = false
                preview[opposites[ID]] = false
            }
        }   
       }
       
       updateView()
    }
  	
  </script>